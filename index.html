<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高等数学课堂随机点名系统</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            overflow: hidden;
        }
        
        .container {
            width: 90%;
            max-width: 900px;
            background: rgba(0, 20, 40, 0.85);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            z-index: -1;
        }
        
        h1 {
            margin-bottom: 20px;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            font-size: 2.5rem;
        }
        
        .password-section {
            margin-bottom: 30px;
        }
        
        .password-section p {
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        input {
            padding: 12px 20px;
            border: none;
            border-radius: 50px;
            width: 70%;
            max-width: 300px;
            font-size: 16px;
            margin: 10px 0;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        button {
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(45deg, #1a2980, #26d0ce);
            color: white;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .main-content {
            display: none;
        }
        
        .rolling-container {
            height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        .student-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.5s;
        }
        
        .avatar-container {
            position: relative;
            width: 220px;
            height: 220px;
            margin-bottom: 20px;
        }
        
        .avatar {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 5px solid white;
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.5);
            background-size: cover;
            background-position: center;
            background-color: #f0f8ff;
            transition: opacity 0.5s ease;
            /* 美颜滤镜效果 */
            filter: brightness(1.1) contrast(1.1) saturate(1.2) blur(0.3px);
            position: relative;
            overflow: hidden;
        }
        
        .avatar::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3) 0%, transparent 50%),
                       radial-gradient(circle at 70% 70%, rgba(255,255,255,0.2) 0%, transparent 50%);
            mix-blend-mode: overlay;
            pointer-events: none;
        }
        
        .avatar::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 50%),
                       linear-gradient(135deg, rgba(255,182,193,0.1) 0%, transparent 50%);
            mix-blend-mode: soft-light;
            pointer-events: none;
        }
        
        .avatar.hidden {
            opacity: 0;
        }
        
        .name {
            font-size: 48px;
            font-weight: bold;
            color: #9c27b0; /* 紫色 */
            text-shadow: 0 0 15px rgba(156, 39, 176, 0.7);
            margin: 10px 0;
            transition: all 0.3s;
            letter-spacing: 2px;
        }
        
        .name.large {
            font-size: 64px;
            margin-top: 40px;
        }
        
        .rolling .name {
            font-size: 42px;
            color: white;
            text-shadow: none;
        }
        
        .status {
            margin-top: 20px;
            font-size: 22px;
            color: #FFD700;
            height: 30px;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .math-symbols {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .math-symbol {
            position: absolute;
            font-size: 28px;
            color: rgba(255, 255, 255, 0.4);
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .audio-control {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .audio-control:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .audio-control i {
            font-size: 20px;
            color: white;
        }
        
        .like-icon {
            position: absolute;
            font-size: 120px;
            color: #FF4081;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 10;
            text-shadow: 0 0 20px rgba(255, 64, 129, 0.7);
            bottom: 50px;
            right: 50px;
        }
        
        .like-icon.show {
            opacity: 1;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .beauty-effect {
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.4) 0%, transparent 70%),
                       radial-gradient(circle at 70% 20%, rgba(255,182,193,0.3) 0%, transparent 70%),
                       radial-gradient(circle at 50% 80%, rgba(173,216,230,0.2) 0%, transparent 70%);
            mix-blend-mode: overlay;
            pointer-events: none;
            z-index: 2;
        }
        
        .star {
            position: absolute;
            font-size: 20px;
            animation: starTwinkle 2s infinite;
            opacity: 0;
            z-index: 3;
        }
        
        .flower {
            position: absolute;
            font-size: 16px;
            animation: flowerFloat 3s infinite;
            opacity: 0;
            z-index: 3;
        }
        
        @keyframes starTwinkle {
            0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
            50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }
        
        @keyframes flowerFloat {
            0% { opacity: 0; transform: translateY(0) rotate(0deg); }
            20% { opacity: 1; transform: translateY(-10px) rotate(90deg); }
            80% { opacity: 1; transform: translateY(-20px) rotate(180deg); }
            100% { opacity: 0; transform: translateY(-30px) rotate(270deg); }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <h1>高等数学课堂随机点名提问系统</h1>
        
        <div class="password-section">
            <p>请输入教师密码进入系统</p>
            <input type="password" id="password" placeholder="请输入密码">
            <button id="login-btn">进入系统</button>
        </div>
        
        <div class="main-content">
            <div class="audio-control" id="audio-control">
                <i class="fas fa-volume-up"></i>
            </div>
            
            <div class="math-symbols" id="math-symbols"></div>
            
            <div class="rolling-container">
                <div class="like-icon" id="like-icon">
                    <i class="fas fa-thumbs-up"></i>
                </div>
                <div class="student-display" id="student-display">
                    <div class="avatar-container">
                        <div class="avatar" id="avatar"></div>
                        <div class="beauty-effect" id="beauty-effect"></div>
                    </div>
                    <div class="name" id="name">点击开始按钮</div>
                </div>
            </div>
            
            <div class="status" id="status">准备开始点名</div>
            
            <div class="controls">
                <button id="start-btn">开始点名</button>
                <button id="reset-btn">重置系统</button>
            </div>
        </div>
    </div>

    <script>
        // 系统密码
        const PASSWORD = "math123";
        
        // 学生名单（根据Excel数据，每个学生有固定的头像）
        const students = [
            { name: "徐若伽", avatar: "images/徐若伽.jpg" },
            { name: "程子昂", avatar: "images/程子昂.jpg" },
            { name: "朱静蕾", avatar: "images/朱静蕾.jpg" },
            { name: "王硕", avatar: "images/王硕.jpg" },
            { name: "邹健乐", avatar: "images/邹健乐.jpg" },
            { name: "吴子涵", avatar: "images/吴子涵.jpg" },
            { name: "张怡", avatar: "images/张怡.jpg" },
            { name: "胡恒远", avatar: "images/胡恒远.jpg" },
            { name: "夏天香", avatar: "images/夏天香.jpg" },
            { name: "谢涵", avatar: "images/谢涵.jpg" },
            { name: "朱芮", avatar: "images/朱芮.jpg" },
            { name: "李欣怡", avatar: "images/李欣怡.jpg" },
            { name: "俞光燕", avatar: "images/俞光燕.jpg" },
            { name: "郭英姿", avatar: "images/郭英姿.jpg" },
            { name: "张天乐", avatar: "images/张天乐.jpg" },
            { name: "李乐乐", avatar: "images/李乐乐.jpg" },
            { name: "李志豪", avatar: "images/李志豪.jpg" },
            { name: "杨硕", avatar: "images/杨硕.jpg" },
            { name: "杨鋆妍", avatar: "images/杨鋆妍.jpg" },
            { name: "金宇", avatar: "images/金宇.jpg" },
            { name: "胡文远", avatar: "images/胡文远.jpg" },
            { name: "胡雨欣", avatar: "images/胡雨欣.jpg" },
            { name: "常俊", avatar: "images/常俊.jpg" },
            { name: "韦书成", avatar: "images/韦书成.jpg" },
            { name: "汤子扬", avatar: "images/汤子扬.jpg" },
            { name: "阮家豪", avatar: "images/阮家豪.jpg" },
            { name: "何俊杰", avatar: "images/何俊杰.jpg" },
            { name: "单宇阳", avatar: "images/单宇阳.jpg" },
            { name: "姚勇棋", avatar: "images/姚勇棋.jpg" },
            { name: "段海冰", avatar: "images/段海冰.jpg" },
            { name: "唐亚", avatar: "images/唐亚.jpg" },
            { name: "鲍瑞锋", avatar: "images/鲍瑞锋.jpg" },
            { name: "蔡贤运", avatar: "images/蔡贤运.jpg" },
            { name: "方海涛", avatar: "images/方海涛.jpg" },
            { name: "韦宇恒", avatar: "images/韦宇恒.jpg" },
            { name: "韦嘉乐", avatar: "images/韦嘉乐.jpg" },
            { name: "王昊宇", avatar: "images/王昊宇.jpg" },
            { name: "王瑞琦", avatar: "images/王瑞琦.jpg" },
            { name: "叶啟军", avatar: "images/叶啟军.jpg" },
            { name: "年博一", avatar: "images/年博一.jpg" },
            { name: "刘子龙", avatar: "images/刘子龙.jpg" },
            { name: "刘瑞", avatar: "images/刘瑞.jpg" },
            { name: "朱勋振", avatar: "images/朱勋振.jpg" },
            { name: "张宇洋", avatar: "images/张宇洋.jpg" },
            { name: "张浩宇", avatar: "images/张浩宇.jpg" },
            { name: "李俊杰", avatar: "images/李俊杰.jpg" },
            { name: "杨文宇", avatar: "images/杨文宇.jpg" },
            { name: "杨树园", avatar: "images/杨树园.jpg" },
            { name: "杨盛浩", avatar: "images/杨盛浩.jpg" },
            { name: "唐志远", avatar: "images/唐志远.jpg" },
            { name: "夏云勇", avatar: "images/夏云勇.jpg" },
            { name: "谢超", avatar: "images/谢超.jpg" },
            { name: "毛运朝", avatar: "images/毛运朝.jpg" },
            { name: "韦玉", avatar: "images/韦玉.jpg" },
            { name: "孙耀坤", avatar: "images/孙耀坤.jpg" },
            { name: "朱行跃", avatar: "images/朱行跃.jpg" },
            { name: "陈启睿", avatar: "images/陈启睿.jpg" },
            { name: "姚智鹏", avatar: "images/姚智鹏.jpg" },
            { name: "韩紫嫣", avatar: "images/韩紫嫣.jpg" },
            { name: "王童", avatar: "images/王童.jpg" },
            { name: "叶婷婷", avatar: "images/叶婷婷.jpg" },
            { name: "童欣怡", avatar: "images/童欣怡.jpg" },
            { name: "舒智文", avatar: "images/舒智文.jpg" },
            { name: "韩玉洁", avatar: "images/韩玉洁.jpg" },
            { name: "梁晖", avatar: "images/梁晖.jpg" },
            { name: "谭慧慧", avatar: "images/谭慧慧.jpg" },
            { name: "马鑫宇", avatar: "images/马鑫宇.jpg" },
            { name: "孔艺涵", avatar: "images/孔艺涵.jpg" },
            { name: "方玉达", avatar: "images/方玉达.jpg" },
            { name: "王梦云", avatar: "images/王梦云.jpg" },
            { name: "张梦婷", avatar: "images/张梦婷.jpg" },
            { name: "房银霏", avatar: "images/房银霏.jpg" },
            { name: "梁心怡", avatar: "images/梁心怡.jpg" },
            { name: "梁宇琨", avatar: "images/梁宇琨.jpg" },
            { name: "霍浩然", avatar: "images/霍浩然.jpg" },
            { name: "丁宇轩", avatar: "images/丁宇轩.jpg" },
            { name: "马自红", avatar: "images/马自红.jpg" },
            { name: "牛好", avatar: "images/牛好.jpg" },
            { name: "江海涛", avatar: "images/江海涛.jpg" },
            { name: "张家福", avatar: "images/张家福.jpg" },
            { name: "罗时武", avatar: "images/罗时武.jpg" },
            { name: "胡耀", avatar: "images/胡耀.jpg" },
            { name: "赵紫涵", avatar: "images/赵紫涵.jpg" },
            { name: "高庆鹏", avatar: "images/高庆鹏.jpg" },
            { name: "盛文涛", avatar: "images/盛文涛.jpg" },
            { name: "卞勇乐", avatar: "images/卞勇乐.jpg" },
            { name: "朱贤涛", avatar: "images/朱贤涛.jpg" },
            { name: "张玉洁", avatar: "images/张玉洁.jpg" },
            { name: "张鸣威", avatar: "images/张鸣威.jpg" },
            { name: "张恒", avatar: "images/张恒.jpg" },
            { name: "杨佳怡", avatar: "images/杨佳怡.jpg" },
            { name: "陈家乐", avatar: "images/陈家乐.jpg" },
            { name: "明华东", avatar: "images/明华东.jpg" },
            { name: "姚猛", avatar: "images/姚猛.jpg" },
            { name: "项可益", avatar: "images/项可益.jpg" },
            { name: "湛益阳", avatar: "images/湛益阳.jpg" }
        ];
        
        // 数学符号
        const mathSymbols = ["∫", "∑", "∏", "√", "∞", "∂", "∆", "∇", "∝", "∠", "⊥", "∥", "∩", "∪", "∈", "∉", "∀", "∃", "∴", "∵", "≤", "≥", "≠", "≈", "≡"];
        
        // DOM元素
        const passwordSection = document.querySelector('.password-section');
        const mainContent = document.querySelector('.main-content');
        const passwordInput = document.getElementById('password');
        const loginBtn = document.getElementById('login-btn');
        const startBtn = document.getElementById('start-btn');
        const resetBtn = document.getElementById('reset-btn');
        const studentDisplay = document.getElementById('student-display');
        const avatar = document.getElementById('avatar');
        const nameElement = document.getElementById('name');
        const statusElement = document.getElementById('status');
        const mathSymbolsContainer = document.getElementById('math-symbols');
        const audioControl = document.getElementById('audio-control');
        const likeIcon = document.getElementById('like-icon');
        const beautyEffect = document.getElementById('beauty-effect');
        const avatarContainer = document.querySelector('.avatar-container');
        
        // 音频元素 - 固定背景音乐
        let backgroundMusic = new Audio("music/background.mp3");
        let applauseSound = new Audio("music/applause.mp3");
        
        // 预加载头像
        function preloadImages() {
            students.forEach(student => {
                const img = new Image();
                img.src = student.avatar;
            });
        }
        
        // 创建数学符号
        function createMathSymbols() {
            for (let i = 0; i < 25; i++) {
                const symbol = document.createElement('div');
                symbol.className = 'math-symbol';
                symbol.textContent = mathSymbols[Math.floor(Math.random() * mathSymbols.length)];
                symbol.style.left = `${Math.random() * 100}%`;
                symbol.style.animationDelay = `${Math.random() * 15}s`;
                mathSymbolsContainer.appendChild(symbol);
            }
        }
        
        // 创建彩色小星星和花朵
        function createDecorations() {
            // 清除之前的装饰
            const existingDecorations = avatarContainer.querySelectorAll('.star, .flower');
            existingDecorations.forEach(decoration => decoration.remove());
            
            // 创建彩色小星星
            const starColors = ['#FFD700', '#FF6B6B', '#4ECDC4', '#FF9FF3', '#F368E0'];
            for (let i = 0; i < 6; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.innerHTML = '★';
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.color = starColors[Math.floor(Math.random() * starColors.length)];
                star.style.animationDelay = `${Math.random() * 2}s`;
                avatarContainer.appendChild(star);
            }
            
            // 创建花朵
            const flowerColors = ['#FF6B9D', '#A29BFE', '#55E6C1', '#FD7272', '#BDC581'];
            for (let i = 0; i < 4; i++) {
                const flower = document.createElement('div');
                flower.className = 'flower';
                flower.innerHTML = '❀';
                flower.style.left = `${Math.random() * 100}%`;
                flower.style.top = `${Math.random() * 100}%`;
                flower.style.color = flowerColors[Math.floor(Math.random() * flowerColors.length)];
                flower.style.animationDelay = `${Math.random() * 3}s`;
                avatarContainer.appendChild(flower);
            }
        }
        
        // 登录验证
        loginBtn.addEventListener('click', function() {
            if (passwordInput.value === PASSWORD) {
                passwordSection.style.display = 'none';
                mainContent.style.display = 'block';
                createMathSymbols();
                preloadImages(); // 预加载头像
            } else {
                alert('密码错误，请重新输入！');
                passwordInput.value = '';
            }
        });
        
        // 按回车键登录
        passwordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                loginBtn.click();
            }
        });
        
        // 播放背景音乐（点名过程中）
        function playBackgroundMusic() {
            backgroundMusic.volume = 0.3;
            backgroundMusic.loop = true;
            backgroundMusic.play().catch(e => {
                console.log("背景音乐播放失败:", e);
            });
            audioControl.innerHTML = '<i class="fas fa-volume-up"></i>';
        }
        
        // 停止背景音乐
        function stopBackgroundMusic() {
            backgroundMusic.pause();
            backgroundMusic.currentTime = 0;
        }
        
        // 播放掌声
        function playApplause() {
            applauseSound.volume = 0.5;
            applauseSound.play().catch(e => {
                console.log("掌声播放失败:", e);
            });
        }
        
        // 显示点赞图标
        function showLikeIcon() {
            likeIcon.classList.add('show');
            
            // 3秒后隐藏点赞图标
            setTimeout(() => {
                likeIcon.classList.remove('show');
            }, 3000);
        }
        
        // 切换背景音乐
        audioControl.addEventListener('click', function() {
            if (backgroundMusic.paused) {
                playBackgroundMusic();
            } else {
                stopBackgroundMusic();
                audioControl.innerHTML = '<i class="fas fa-volume-mute"></i>';
            }
        });
        
        let isRolling = false;
        let rollInterval;
        let rollSpeed = 80; // 初始滚动速度(ms)
        let totalRollTime = 5000; // 总滚动时间5秒
        let rollStartTime;
        let selectedStudent = null;
        
        // 开始点名
        startBtn.addEventListener('click', function() {
            if (isRolling) return;
            
            isRolling = true;
            studentDisplay.classList.add('rolling');
            statusElement.textContent = "随机点名中...";
            startBtn.disabled = true;
            
            // 重置显示
            avatar.classList.remove('hidden');
            nameElement.classList.remove('large');
            
            // 开始播放背景音乐
            playBackgroundMusic();
            
            rollStartTime = Date.now();
            
            // 开始快速滚动
            rollInterval = setInterval(rollStudents, rollSpeed);
            
            // 5秒后停止
            setTimeout(stopRolling, totalRollTime);
        });
        
        // 随机滚动学生
        function rollStudents() {
            const randomIndex = Math.floor(Math.random() * students.length);
            const student = students[randomIndex];
            
            // 更新显示
            nameElement.textContent = student.name;
            
            // 使用学生对应的头像 - 确保头像正确加载
            const img = new Image();
            img.onload = function() {
                avatar.style.backgroundImage = `url(${student.avatar})`;
            };
            img.onerror = function() {
                // 如果头像加载失败，使用默认头像
                avatar.style.backgroundImage = `url(images/default.jpg)`;
            };
            img.src = student.avatar;
        }
        
        // 停止滚动
        function stopRolling() {
            clearInterval(rollInterval);
            isRolling = false;
            studentDisplay.classList.remove('rolling');
            statusElement.textContent = "恭喜这位同学！";
            
            // 停止背景音乐
            stopBackgroundMusic();
            
            // 播放掌声
            playApplause();
            
            // 显示点赞图标
            showLikeIcon();
            
            // 随机选择一个学生
            const randomIndex = Math.floor(Math.random() * students.length);
            selectedStudent = students[randomIndex];
            
            // 更新显示
            nameElement.textContent = selectedStudent.name;
            
            // 使用学生对应的头像 - 确保头像正确加载
            const img = new Image();
            img.onload = function() {
                avatar.style.backgroundImage = `url(${selectedStudent.avatar})`;
            };
            img.onerror = function() {
                // 如果头像加载失败，使用默认头像
                avatar.style.backgroundImage = `url(images/default.jpg)`;
            };
            img.src = selectedStudent.avatar;
            
            // 添加装饰特效
            createDecorations();
            
            // 3秒后隐藏头像，放大姓名
            setTimeout(function() {
                avatar.classList.add('hidden');
                nameElement.classList.add('large');
            }, 3000);
            
            // 播放语音 - 只播报"恭喜***同学中奖啦"
            const finalMessage = `恭喜${selectedStudent.name}同学中奖啦`;
            speakMessage(finalMessage);
            
            startBtn.disabled = false;
        }
        
        // 语音合成
        function speakMessage(message) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(message);
                utterance.rate = 0.9;
                utterance.pitch = 1.2;
                window.speechSynthesis.speak(utterance);
            }
        }
        
        // 重置系统
        resetBtn.addEventListener('click', function() {
            clearInterval(rollInterval);
            isRolling = false;
            studentDisplay.classList.remove('rolling');
            nameElement.textContent = "点击开始按钮";
            avatar.style.backgroundImage = '';
            avatar.classList.remove('hidden');
            nameElement.classList.remove('large');
            statusElement.textContent = "准备开始点名";
            startBtn.disabled = false;
            
            // 停止背景音乐
            stopBackgroundMusic();
            audioControl.innerHTML = '<i class="fas fa-volume-up"></i>';
            
            // 隐藏点赞图标
            likeIcon.classList.remove('show');
            
            // 清除装饰效果
            const decorations = avatarContainer.querySelectorAll('.star, .flower');
            decorations.forEach(decoration => decoration.remove());
        });
    </script>
</body>
</html>
